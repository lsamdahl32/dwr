let atrScripts=function(e){var t;function n(){let t=$("#at-report");e.hasHomePage&&($("#at-homepage").hide(transitionTime),t.show(transitionTime),$("#report_page_title").html(pageTitle),$("#footer_message_left").html(pageTitle)),allowHideProfile&&(rm.hideProfile(!1),$("#hideProfileView"+rm_identifier).hide()),$("#ReturntoSearchResults").hide(),hideSearch(!1),rm.setMode("add"),rm.setCurrentID(0),rm.refresh(function(){"function"==typeof window[rmRefreshCallback]&&window[rmRefreshCallback]()}),$("#profileHeading"+rm_identifier).html("Add "+rm.settings.editTitle),$("#myEditForm"+rm_identifier+" input[name=mode]").val("add"),$("#at-tabs").hide(transitionTime),t.hide(transitionTime),$("#at-manage").show(transitionTime)}return $("#myForm #searchBtn").on("click",function(t){t.preventDefault(),e.hasManage&&rm.setDirty(!1);let n=$("#myForm").serialize()+"&atr_process=search";$.post(e.selfURL,n,function(t){checkLoginStatus(t);var n=JSON.parse(t);n.selectCriteria.length>0?$(".selectCriteria").html("Search For: "+n.selectCriteria.join(", ")):$(".selectCriteria").html("Showing All Records"),$("#myForm .tempSearch").remove(),e.hasHomePage&&($("#at-homepage").hide(transitionTime),$("#at-report").show(transitionTime),$("#report_page_title").html(pageTitle),$("#footer_message_left").html(pageTitle)),rt.setBindtypes(n.pq_bindtypes),rt.setBindValues(n.pq_bindvalues),rt.setWhere(n.where),rt.refresh(),$("#showAll").show(),breadcrumbs&&($("#breadcrumbPageTitle").show(),$("#breadcrumbs").html(" "+BI_CARET_RIGHT+" Search Results")),e.hideSearchCriteria&&(n.selectCriteria.length>0?hideSearch(!0):hideSearch(!1))}),$("#myForm").on("keydown",function(e){13===e.keyCode&&$("#myForm #searchBtn").trigger("click")})}),$(".doOpenSearch").on("click",function(){$("#ar-searchSettings").show(),$("#openSearchButton").hide(200),$("#search-fieldset").show(200,function(){$("#myForm input:visible:enabled:first").focus()})}),$(".doShowAll").on("click",function(){$("#"+keyField+"_in1").val(""),$("#"+keyField+"_so").val("All"),$('#myForm input[name="'+keyField+'"]').remove(),$("#myForm input").each(function(e){var t=$(this);"text"===t.attr("type")&&t.val("")}),$("#myForm select").each(function(e){var t=$(this);t[0].selectedIndex=0,doOnChange(t.val(),t.attr("id"))}),$(".selectCriteria").html("New Search"),$("#myForm input:visible:enabled:first").focus()}),$(".ar_search_fields select").on("change",function(){doOnChange(this.value,this.id)}),$("#settingsContent").on("drop",".dragColumn",function(e){e.preventDefault(),e.stopPropagation();var n=e.target;$("#"+n.id).hasClass("dragColumn")||(n=e.target.parentElement);var o=Number($("#"+t.id+" > input").val()),r=Number($("#"+n.id+" > input").val());if(o>r){var s=$("#dragColumnNames").children().length;$($("#settingsContent .dragColumn").get().reverse()).each(function(e){var t=$("#"+this.id+" > input");t.val()<=o&&t.val()>r&&(console.log(s-(e+1)+" "+t.val()+" \n"),$(this).html($(this).prev().html()),$("#"+this.id+" > input").val(s-(e+1)))}),$("#"+n.id).html(e.originalEvent.dataTransfer.getData("text/html")),$("#"+n.id+" > input").val(r)}else $("#settingsContent .dragColumn").each(function(e){var t=$("#"+this.id+" > input").val();t>=o&&t<r&&($(this).html($(this).next().html()),$("#"+this.id+" > input").val(t))}),$("#"+n.id).html(e.originalEvent.dataTransfer.getData("text/html")),$("#"+n.id+" > input").val(r)}).on("dragstart",".dragColumn",function(e){$("body").addClass("is-drag-in-progress"),t=e.target,e.originalEvent.dataTransfer.setData("text/html",t.innerHTML),e.originalEvent.dataTransfer.effectAllowed="move"}).on("dragover",".dragColumn",function(e){e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="move"}).on("dragend",".dragColumn",function(e){$("body").removeClass("is-drag-in-progress"),$(".canDropHere").removeClass("canDropHere")}).on("dragenter",".dragColumn",function(e){return e.stopPropagation(),e.preventDefault(),$("#"+e.target.id).addClass("canDropHere"),!1}).on("dragleave",".dragColumn",function(e){return e.stopPropagation(),e.preventDefault(),$("#"+e.target.id).removeClass("canDropHere"),!1}).on("click","#set_results_mode_listing",function(){$("#table_mode").hide(200),$("#listing_mode").show(200)}).on("click","#set_results_mode_table",function(){$("#listing_mode").hide(200),$("#table_mode").show(200)}),$("#jqSettingsDialog").on("click","#sel_all",function(){$("#settingsContent .showCheckboxes").attr("checked",!0)}).on("click","#sel_none",function(){$("#settingsContent .showCheckboxes").attr("checked",!1)}),$(".openSettings").on("click",function(){var e,t=$(this).attr("data-type"),n=0,o=400;"search"===t?(e=$("#searchCheckboxesDiv").html(),n=$("#searchCheckboxesDiv .searchCheckboxes").length,$("#settingsText1").html("Search Settings")):"show"===t&&(e=$("#showOrderCheckboxes").html(),n=$("#showOrderCheckboxes .showCheckboxes").length,$("#settingsText1").html("Report Settings")),n>14&&(o=(Math.floor(n/14)+1)*300),$("#settingsType").val(t),$("#settingsContent").html(e),o>$(window).width()&&(o=$(window).width()),$("#jqSettingsDialog").width(o).jqmShow()}),$(".refreshListing").on("click",function(){rt.refresh()}),$(".breadcrumbs").on("click",".ReturntoSearchResults",function(e){rm.setMode("list"),rm.setCurrentID(0),$("#at-manage").hide(transitionTime),$("#at-report").show(transitionTime),rt.refresh(),breadcrumbs&&$("#breadcrumbs").html(" "+BI_CARET_RIGHT+" Search Results")}),$("#ReturntoSearchResults").on("click",function(){rm.setMode("list"),rm.setCurrentID(0),$("#at-manage").hide(transitionTime),$("#at-report").show(transitionTime),rt.refresh(),breadcrumbs&&$("#breadcrumbs").html(" "+BI_CARET_RIGHT+" Search Results")}),$("#btnRestoreDefaults").on("click",function(){doSubmitWithValues({btnRestoreDefaults:!0},0)}),$("#SettingsSave").on("click",function(){var t={};if("search"===$("#settingsType").val())$("#settingsContent .searchCheckboxes:checked").each(function(){t[this.id]=this.value}),t.SettingsSave="SaveSearchSettings",doSubmitWithValues(t,0);else{$("#settingsContent .showCheckboxes:checked").each(function(){t[this.id]=this.value}),$("#settingsContent .orderInputs").each(function(){t[this.id]=this.value}),t.SettingsSave="SaveShowOrderSettings";var n={};e.listSearchResults&&(t.results_mode=$("input[name='set_results_mode']:checked").val()),$("#settingsContent #subtotalBySortCB").is(":checked")?n.subtotalBySort="true":n.subtotalBySort="false",doSubmitWithValues(t,0,"",n)}}),$(".doOpenAddMode").on("click",function(){n()}),{settings:e,addRecord:function(){("view"===rm.settings.mode||"list"===rm.settings.mode)&&n()},returntoListMode:function(){rm.setMode("list"),rm.setCurrentID(0),$("#at-manage").hide(transitionTime),$("#at-report").show(transitionTime),rt.refresh(),breadcrumbs&&$("#breadcrumbs").html(" "+BI_CARET_RIGHT+" Search Results")}}};function doOnChange(e,t){var n=t.substr(0,t.length-3),o=$("#"+n+"_in1");"range"===e?($("."+n+"_btwn").show(200),o.attr("placeholder","From").prop("disabled",!1).select(),$("#"+n+"_so").css("margin-top","11px"),$("#search_label_"+n).css("margin-top","12px")):"Yes"===e||"No"===e||"All"===e||("1"===e||"0"===e?($("."+n+"_btwn").hide(200),$("#"+n+"_so").css("margin-top","0"),$("#search_label_"+n).css("margin-top","0"),o.hide(200)):($("."+n+"_btwn").hide(200),$("#"+n+"_so").css("margin-top","0"),$("#search_label_"+n).css("margin-top","0"),""===e?($("#"+n+"_in2").val(""),o.prop("disabled",!0).val("")):o.prop("disabled",!1),o.attr("placeholder","").show(200).select()))}function hideSearch(e){e?$("#btnModifySearch").show():$("#btnModifySearch").hide(),$("#ar-searchSettings").hide(),$("#search-fieldset").hide(transitionTime),$("#openSearchButton").show(transitionTime)}function rtCallback(e,t,n,o,r){n===rt_identifier&&(1===o&&rt.settings.hasProfileMode?(openProfileOrEditMode(keyField,r[0][keyField],""),$("#ReturntoSearchResults").hide()):($("#ReturntoSearchResults").show(),allowHideProfile&&$("#hideProfileView"+rm_identifier).show(),$("#at-manage").hide(transitionTime),$("#at-report").show(transitionTime),"function"==typeof window[rtRefreshCallback]&&window[rtRefreshCallback](e,t,n,o,r)))}function jqAlert(e){$("#alertText").html(e),$("#jqAlertDialog").jqmShow()}function jqConfIcon(e){switch($("#confirmImgExclamation").hide(),$("#confirmImgWarning").hide(),$("#confirmImgErase").hide(),e){case"Exclamation":$("#confirmImgExclamation").show();break;case"Warning":$("#confirmImgWarning").show();break;case"Erase":$("#confirmImgErase").show()}}$("#jqAlertDialog").jqm({modal:!0,toTop:!0,onShow:function(e){e.o.prependTo("body"),e.w.css("opacity",1).fadeIn()},onHide:function(e){e.w.fadeOut("2000",function(){e.o.remove()})}}),$("#jqConfDialog").jqm({trigger:".jqConfirm",modal:!0,overlay:88,toTop:!0});